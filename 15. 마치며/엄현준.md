- 리액트 프로젝트를 시작하거나 유지보수하기에 앞서 알아두면 좋은 내용들을 다룹니다.

## 15.1 리액트 프로젝트를 시작할 때 고려해야 할 사항

- 리액트도 버전별로 기능이 다르기 때문에 같은 리액트가 아님.

### 15.1.1 유지보수 중인 서비스라면 리액트 버전을 최소 16.8.6에서 최대 17.0.2로 올려두자

- 16.8은 훅이 추가되고 함수 컴포넌트의 개념이 생기는 등 중요한 변화가 있었음.
  ⇒ 향후 원활한 라이브러리 지원을 위해 16.8.6버전 이상으로 맞추는 것이 좋음.
- [17버전](https://github.com/facebook/react/blob/main/CHANGELOG.md#1700-october-20-2020)은 새로운 기능 출시 및 호환성이 깨지는 변경 사항을 최소한으로 맞춘 업데이트이므로 가능하면 17로 가는 것도 좋음.

클래스 컴포넌트, 함수 컴포넌트로 리팩토링할 필요 있을까?

⇒ 굳이 그럴 필요는 없음. 어짜피 지원됨

### 15.1.2 인터넷 익스플로러 11 지원을 목표한다면 각별히 더 주의를 기한다

인터넷 익스플로러 11을 지원하지 않는 대표적인 라이브러리

- 리액트 18버전
- Next.js 13버전
- query-string 6.x버전

사용하고자 하는 라이브러리의 소스코드나 체인지로그, 이슈 등을 살표보고 문제가 없다고 판단될 때 설치해 사용해야한다.

### 15.1.3 서버 사이드 렌더링 애플리케이션을 우선적으로 고려한다

기본 HTML에 온전히 자바스크립트로 렌더링과 라우팅을 수행하는 싱글 페이지 애플리케이션은 대부분의 경우 라이트하우스와 WebPageTest, 구글 개발자 도구에서 좋은 결과를 얻기 힘듦

하드웨어가 발전했지만, 모바일 기기의 성능은 사용자별로 천차만별이기 때문에, 자바스크립트 코드의 실행 속도에 의존적일수록 평균적인 사용자 경험을 제공하기 어려움

VOC(voice of customer)의 대부분은 극단적인 사용자로부터 비롯됨.

**SPA를 만들기 좋은 경우**

1. 관리자와 같이 제한적인 사용자에게 빠르게 웹페이지를 제공해야 하는 경우,
2. 혹은 이벤트 페이지와 같이 콘텐츠와 인터렉션이 매우 제한적인 소규모 웹페이지를 만드는 경우
3. 서버를 준비해야 할 상황이 여의치 않은 경우

**SSR을 추천하는 경우**

1. 많은 사용자를 감당해야하는 경우나 그럴 계획이 있는 경우
2. 서버를 준비할 여유가 되는 경우

- Next.js뿐만 아니라, Remix, Hydrogen 또한 좋은 대안임

### 15.1.4 상태 관리 라이브러리는 꼭 필요할 때만 사용한다

Context API와 훅의 등장으로 props drilling 문제를 겪지 않고도 하위 컴포넌트에 상태값을 전달할 수 있게 됨.

**상태관리 라이브러리가 필요한지 여부**

- 애플리케이션에서 관리해야 할 상태가 많은지 여부
- 문서 편집기 같이 관리해야 할 상태가 많은 경우
- 여러 상태를 합성해서 또 새로운 상태를 파생하는 경우

- 상태관리 라이브러리 굳이 필요 없을 수 있음.

### 15.1.5 리액트 의존성 라이브러리 설치를 조심한다

- 리액트에 의존성을 가지고 있는 라이브러리를 설치하는 경우, peerDependencies가 설치하고자 하는 프로젝트의 리액트 버전과 맞는지 확인해야 한다.

## 15.2 언젠가 사라질 수도 있는 리액트

### 15.2.1 리액트는 그래서 정말 완벽한 라이브러리인가?

- 가장 널리 쓰이는 프론트엔드 라이브러리 o
- 가장 완벽한 라이브러리 x

리액트를 반대하는 의견

- 클래스 컴포넌트에서 함수 컴포넌트로 넘어오면서 느껴지는 혼란

  - 22년 12월 시점의 공식문서 기준, 무엇을 써야할지 혼란
  - vue나 Svelete는 깔끔하고 정리 잘 돼 있음
  - 알아야 할 개념이 너무 많음

- 너무 방대한 자유가 주는 혼란
  - 스타일을 입힐 수 있는 방법
    1. 외부 스타일 시트 import
    2. 인라인 스타일
    3. CSS 모듈
    4. styled-components
    5. emotion
  - 상태 관리 방법
    - Redux
    - MobX
    - Jotai
    - Zustand
    - React Tracked
    - Valtio
  - 데이터를 fetch하는 방법, 상태 관리까지 다양한 것들이 파편화 되어있음. Angular나 Vue처럼 하나만 배워두면 서로 다른 곳에서도 빠르게 쓸 수 있는 구조가 아니라 리액트 외에 다른 것들을 새롭게 배워야 함.
- 비직관적인 JSX, 급진적으로 변하는 API 등, 문제가 많음.

리액트가 생태계를 통일할 것이라는 생각은 위험함.

### 15.2.2 오픈소스 생태계의 명과 암

**페이스북 라이선스 이슈**

가장 많이 쓰이는 라이선스 MIT 라이선스.

- 오픈소스를 상업적으로 이용하거나, 배포하거나
- 개인적으로 이용하는 등에 대한 제약 없이 취급할 수 있는 라이센스

페이스북은 자사 오픈소스인 React, Immutable, Jest 등에 BSD + Patents 라이선스를 사용함.

- 주요한 내용
  “이 라이센스를 적용한 소프트웨어에 대해서 특정한 사건이 발생한다면 라이선스가 통지 없이 종료될 수 있다.”

아파치 재단에서 BSD + Patents 라이선스 금지하였으나, 페이스북은 반대하다 결국은 MIT로 넘어갔음.

**오픈소스는 무료로 계속 제공될 수 있는가? color.js, faker.js 그리고 바벨**

바벨은 풀타임 개발자를 고용해 급여를 주고 있으나, 우리는 무료로 사용중임.

연간 33만 달러가 필요하고 그를 위한 모금이 계속되고 있다고 밝힘.

[오픈소스 개발자 Marak는](https://marak.com/blog/2022-11-20-the-reports-of-my-death-have-been-greatly-exaggerated)

color.js는 1.4.0버전에서 1.4.1버전으로 올라갈 때 고의로 무한 루프 코드를 삽임함.

faker.js의 경우 5.5.3에서 갑자기 6.6.6 버전으로 넘어갔는데 코드가 다 지워졌음.

“No more free work from Marak - Pay Me or Fork This”라는 글을 남김.

후에 개발자는 사제 폭탄을 만들다 아파트에 있던 집기를 태우고, 체포되어 노숙자가 되었다고 함.

color.js는 패치 버전 하나만 올렸지만, 아마존 웹서비스 CLI까지 영향을 미쳤음.

⇒ 오픈소스 덕분에 쉽게 개발하고 있음을 알고, 오픈소스가 무슨 일을 하고 있는지도 알아야한다.

### 15.2.3 제이쿼리, AngularJS, 리액트, 그리고 다음은 무엇인가?

- 리액트가 가장 많이 쓰이고 있지만, 피로감과 거부감 어려움을 이유로 부정적 의견들이 나타나고 있다.
- 미래를 예측할 수 없으므로, 유연한 자세를 지녀야한다.

### 15.2.4 웹 개발자로서 가져야 할 유연한 자세

한 가지 변하지 않는 사실은 HTML과 CSS, 자바스크립트가 웹 페이지를 구성하는 기초 기술이라는 사실.

웹 어셈블리라와 같이 웹을 구성하는 완전히 새로운 개념이 도입될 수도 있지만 브라우저가 과거 웹까지 안정적으로 보여주기 위해 많은 노력을 기울이고 있다는 점.

웹 어셈블리로인해 C, C++, Rust와 같은 언어로 개발되는 프로젝트도 있지만 결국 실행되는 코드는 자바스크립트라는 점에서 변함이 없음.
